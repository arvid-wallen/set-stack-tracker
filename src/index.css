@tailwind base;
@tailwind components;
@tailwind utilities;

/* Gym Tracker Design System - Dark mode first */

/* Seriguela Font Family - Headlines */
@font-face {
  font-family: 'Seriguela';
  src: url('@/assets/fonts/Seriguela-Regular.otf') format('opentype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Seriguela';
  src: url('@/assets/fonts/Seriguela-SemiBold.otf') format('opentype');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Seriguela';
  src: url('@/assets/fonts/Seriguela-Bold.otf') format('opentype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Seriguela Display';
  src: url('@/assets/fonts/Seriguela-Display-Black.otf') format('opentype');
  font-weight: 900;
  font-style: normal;
  font-display: swap;
}

/* Apercu Font Family - Body text */
@font-face {
  font-family: 'Apercu';
  src: url('@/assets/fonts/Apercu-Regular.otf') format('opentype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Apercu';
  src: url('@/assets/fonts/Apercu-Medium.otf') format('opentype');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Apercu';
  src: url('@/assets/fonts/Apercu-Bold.otf') format('opentype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@layer base {
  :root {
    --background: 43 18% 93%;
    --foreground: 120 2% 19%;

    --card: 43 18% 96%;
    --card-foreground: 120 2% 19%;

    --popover: 43 18% 96%;
    --popover-foreground: 120 2% 19%;

    --primary: 123 93% 82%;
    --primary-foreground: 120 2% 19%;

    --secondary: 43 12% 88%;
    --secondary-foreground: 120 2% 25%;

    --muted: 43 14% 90%;
    --muted-foreground: 120 2% 40%;

    --accent: 123 60% 90%;
    --accent-foreground: 120 2% 19%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 43 18% 93%;

    --success: 123 93% 82%;
    --success-foreground: 120 2% 19%;

    --warning: 38 92% 50%;
    --warning-foreground: 120 2% 19%;

    --border: 43 12% 85%;
    --input: 43 12% 85%;
    --ring: 123 93% 82%;

    --radius: 0.75rem;

    /* iOS Design System */
    --ios-radius-sm: 8px;
    --ios-radius-md: 12px;
    --ios-radius-lg: 16px;
    --ios-radius-xl: 22px;
    --ios-radius-2xl: 28px;
    
    --ios-shadow: 0 2px 8px hsla(0, 0%, 0%, 0.08);
    --ios-shadow-lg: 0 4px 16px hsla(0, 0%, 0%, 0.12);
    --ios-shadow-up: 0 -4px 16px hsla(0, 0%, 0%, 0.08);

    --font-heading: 'Seriguela', serif;
    --font-body: 'Apercu', sans-serif;
    --font-display: 'Seriguela Display', serif;
  }

  .dark {
    --background: 120 2% 12%;
    --foreground: 43 18% 93%;

    --card: 120 2% 15%;
    --card-foreground: 43 18% 93%;

    --popover: 120 2% 15%;
    --popover-foreground: 43 18% 93%;

    --primary: 123 93% 82%;
    --primary-foreground: 120 2% 19%;

    --secondary: 120 2% 20%;
    --secondary-foreground: 43 18% 90%;

    --muted: 120 2% 18%;
    --muted-foreground: 43 10% 55%;

    --accent: 123 40% 25%;
    --accent-foreground: 123 93% 82%;

    --destructive: 0 70% 45%;
    --destructive-foreground: 43 18% 93%;

    --success: 123 93% 82%;
    --success-foreground: 120 2% 19%;

    --warning: 38 92% 50%;
    --warning-foreground: 120 2% 19%;

    --border: 120 2% 22%;
    --input: 120 2% 22%;
    --ring: 123 93% 82%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    font-family: var(--font-body);
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  h1 {
    font-family: var(--font-heading);
    @apply font-semibold tracking-tight;
  }

  h2, h3, h4, h5, h6 {
    font-family: var(--font-body);
    @apply font-semibold tracking-tight;
  }
}

@layer components {
  .touch-target {
    @apply min-h-[48px] min-w-[48px];
  }

  .glass {
    @apply bg-card/80 backdrop-blur-lg border border-border/50;
  }

  .gradient-primary {
    @apply bg-gradient-to-r from-primary to-primary/80;
  }

  .timer-display {
    font-family: var(--font-heading);
    font-variant-numeric: tabular-nums;
    letter-spacing: -0.02em;
  }

.workout-card {
    @apply bg-card rounded-2xl border border-border/50 p-4 transition-all duration-200;
    box-shadow: var(--ios-shadow);
  }

  .workout-card:active {
    @apply scale-[0.98];
    box-shadow: 0 1px 4px hsla(0, 0%, 0%, 0.04);
  }

  /* iOS Navigation Bar */
  .ios-nav-bar {
    @apply sticky top-0 z-10 bg-background/95 backdrop-blur-xl border-b border-border/30 px-5 py-4 safe-top;
  }

  /* iOS Floating Tab Bar - Liquid Glass */
  .ios-tab-bar {
    @apply fixed bottom-0 left-0 right-0 z-40 px-4;
    padding-bottom: calc(0.75rem + env(safe-area-inset-bottom));
  }

  .ios-tab-bar-inner {
    @apply flex items-center justify-around backdrop-blur-2xl border rounded-full;
    height: 64px;
    background: hsl(var(--background) / 0.7);
    border-color: hsl(var(--border) / 0.3);
    box-shadow: 
      0 4px 30px hsl(0 0% 0% / 0.1),
      inset 0 1px 0 hsl(0 0% 100% / 0.1);
  }

  .dark .ios-tab-bar-inner {
    background: hsl(0 0% 0% / 0.5);
    border-color: hsl(0 0% 100% / 0.08);
    box-shadow: 
      0 4px 30px hsl(0 0% 0% / 0.4),
      inset 0 1px 0 hsl(0 0% 100% / 0.05);
  }

  .set-row {
    @apply flex items-center gap-2 py-2 px-2 rounded-lg;
  }

  .input-gym {
    @apply bg-muted border-0 rounded-lg text-center font-medium text-base h-11 focus:ring-2 focus:ring-primary min-w-0;
  }
}

@layer utilities {
  .animate-pulse-slow {
    animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  /* Set save animation */
  @keyframes set-saved {
    0% {
      transform: scale(1);
      background-color: transparent;
    }
    50% {
      transform: scale(1.02);
      background-color: hsl(var(--success) / 0.2);
    }
    100% {
      transform: scale(1);
      background-color: transparent;
    }
  }

  .animate-set-saved {
    animation: set-saved 0.3s ease-out;
  }
}